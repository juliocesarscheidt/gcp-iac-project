# This sample build has exactly one step: build a new container image using this
# repository as source. Here we use the 'docker' image to build the image and
# tag it with the name of the image.
steps:
- name: 'docker'
  args: [ 'build', '-t', 'gcr.io/$PROJECT_ID/gcp-iac-project', '.' ]

# By default, all built docker images will be lost once the build is complete.
# Rather than writing a build step to push this image, you can simply list the
# image below and it will automatically be uploaded to Google Cloud Container
# Registry.
images:
- 'gcr.io/$PROJECT_ID/gcp-iac-project'

# You can organize your builds with tags
tags: ['$COMMIT_SHA']

# You can configure more options than the ones listed here. Visit
# https://cloud.google.com/cloud-build/docs/build-config to see the full list of
# available options.

options:
  logging: CLOUD_LOGGING_ONLY
